(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{1595:function(t,e,a){Promise.resolve().then(a.bind(a,69642))},20718:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var n=a(3827);a(50703);var s=a(64090),r=a(76476),o=a(72814),l=a(26355),c=a(46197),i=a(56186),u=a(23306),d=a(30455),m=a(60346),p=a(95191),h=a(83026),x=a(66017);function f(t){let{content:e}=t,[a,f]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async function(){f((await (0,r.l)().use(o.Z).use(h.Z).use(x.Z).use(l.Z,{allowDangerousHtml:!0}).use(c.Z).use(i.Z).use(u.Z).use(d.Z).use(m.Z,{properties:{className:["anchor"]},behavior:"wrap"}).use(p.Z,{properties:{class:"external-link"},target:"_blank",rel:["noopener noreferrer"]}).process(e)).toString())})()},[e]),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})}},69642:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var n=a(3827),s=a(20718);function r(t){let{data:e}=t;return(0,n.jsxs)("div",{className:"post-header",children:[(0,n.jsx)("div",{className:"post-title",children:e.title}),(0,n.jsxs)("div",{className:"post-info",children:[(0,n.jsx)("div",{className:"post-tags",children:e.tags?e.tags.map(t=>(0,n.jsx)("div",{className:"post-tag",children:t},t)):null}),(0,n.jsxs)("div",{className:"post-date",children:["\uD83D\uDDD3️"," ",new Date(e.date).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"2-digit",weekday:"short"})]})]}),(0,n.jsxs)("div",{className:"post-author",children:["✍️ written by ",(0,n.jsx)("strong",{children:e.author})]})]})}function o(t){let{post:e}=t;return(0,n.jsxs)("div",{className:"post-wrapper",children:[(0,n.jsx)(r,{data:e.frontMatter}),(0,n.jsx)("div",{className:"post-content",children:(0,n.jsx)(s.default,{content:e.content})})]})}var l=a(64090);let c={frontMatter:{title:"",summary:"",author:"",tags:[],date:new Date,slug:[]},content:""},i=(0,l.createContext)({post:c,setPost:()=>{},isOpenModal:!1,openModal:()=>{},closeModal:()=>{},updateSummary:()=>{},updateTags:()=>{}});function u(t){let{children:e}=t,[a,s]=(0,l.useState)(c),r=t=>{s(e=>({...e,frontMatter:{...e.frontMatter,summary:t.target.value}}))},o=t=>{s(e=>({...e,frontMatter:{...e.frontMatter,tags:t}}))},{isOpenModal:u,openModal:d,closeModal:m}=function(){let[t,e]=(0,l.useState)(!1);return{isOpenModal:t,openModal:()=>{e(!0)},closeModal:()=>{e(!1)}}}(),p=(0,l.useMemo)(()=>({post:a,setPost:s,isOpenModal:u,openModal:d,closeModal:m,updateSummary:r,updateTags:o}),[a,s,u,d,m]);return(0,n.jsx)(i.Provider,{value:p,children:e})}let{Consumer:d}=i;var m=a(15313);function p(){let t=(0,m.useRouter)(),{openModal:e}=(0,l.useContext)(i);return(0,n.jsxs)("div",{className:"navigation-wrapper",children:[(0,n.jsx)("button",{type:"button",className:"back",onClick:()=>{t.back()},children:"\uD83E\uDD14 뒤로 가기"}),(0,n.jsx)("button",{type:"button",className:"posting",onClick:e,children:"\uD83E\uDDD1\uD83C\uDFFB‍\uD83D\uDCBB 포스팅"})]})}function h(t){let{toast:e,message:a}=t;return e&&(0,n.jsx)("div",{className:"toast",children:a})}function x(){let{post:t}=(0,l.useContext)(i),e=function(){let{setPost:t}=(0,l.useContext)(i);return e=>{t(t=>({...t,frontMatter:{...t.frontMatter,[e.target.className]:"date"===e.target.className?new Date(e.target.value):e.target.value},content:"content"===e.target.className?e.target.value:t.content}))}}(),{inputTag:a,handleChangeInputTag:s,handlePasteInputTag:r,handleKeyDownInputTag:o}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[e,a]=(0,l.useState)(t),{post:n,updateTags:s}=(0,l.useContext)(i),r=()=>{""===e.trim()||n.frontMatter.tags.includes(e)?a(""):""!==e&&s([...n.frontMatter.tags,e.trim()]),a("")},o=()=>{""===e&&s(n.frontMatter.tags.slice(0,-1))};return{inputTag:e,handleChangeInputTag:t=>{a(t.target.value),t.target.value.startsWith(",")&&setTimeout(()=>a(""),30)},handlePasteInputTag:t=>{let e=t.clipboardData.getData("text");if(e.includes(",")){t.preventDefault();let a=e.split(",").filter(t=>""!==t.trim());s(Array.from(new Set([...n.frontMatter.tags,...a])))}},handleKeyDownInputTag:t=>{","===t.key?setTimeout(()=>r(),30):"Enter"===t.key&&!1===t.nativeEvent.isComposing?r():"Backspace"===t.key&&o()}}}(),{toast:c,showToast:u,hideToast:d}=function(){let[t,e]=(0,l.useState)(!1);return{toast:t,showToast:()=>{e(!0)},hideToast:()=>{e(!1)}}}(),m=t.frontMatter.date.toISOString().substring(0,10);return(0,n.jsxs)("div",{className:"write-editor",children:[(0,n.jsxs)("div",{className:"front-matter",children:[(0,n.jsx)("input",{className:"title",type:"text",value:t.frontMatter.title,placeholder:"제목을 입력해주세요",onChange:e}),(0,n.jsxs)("div",{className:"info-wrapper",children:[(0,n.jsx)("div",{className:"tags-wrapper",children:(0,n.jsx)("input",{className:"tags",type:"text",placeholder:"태그를 입력해주세요",value:a,onChange:s,onPaste:r,onKeyDown:o,onFocus:u,onBlur:d})}),(0,n.jsx)("input",{className:"date",type:"date",value:m,onChange:e}),(0,n.jsx)("input",{className:"author",type:"text",placeholder:"글쓴이를 입력해주세요",value:t.frontMatter.author,onChange:e})]}),(0,n.jsx)(h,{toast:c,message:"쉼표 혹은 엔터를 입력하여 태그를 등록할 수 있습니다.\n            백스페이스를 입력하여 태그를 삭제할 수 있습니다.\n          "})]}),(0,n.jsx)("div",{className:"content-wrapper",children:(0,n.jsx)("textarea",{className:"content",value:t.content,placeholder:"글 내용을 입력하세요",onChange:e})}),(0,n.jsx)(p,{})]})}function f(){let{post:t,isOpenModal:e,closeModal:a,updateSummary:s}=(0,l.useContext)(i),r=function(){let{post:t}=(0,l.useContext)(i);return()=>{let e=t.frontMatter.tags.map(t=>"'".concat(t,"'")).join(", "),a=t.frontMatter.date.toISOString().substring(0,10),n="---\ntitle: '".concat(t.frontMatter.title,"'\nsummary: '").concat(t.frontMatter.summary,"'\nauthor: '").concat(t.frontMatter.author,"'\ntags: [").concat(e,"]\ndate: ").concat(a,"\n---\n    \n").concat(t.content),s=document.createElement("a"),r=new Blob([n],{type:"text/plain"});s.href=URL.createObjectURL(r),s.download="post.mdx",document.body.appendChild(s),s.click(),s.remove()}}();return e&&(0,n.jsx)("div",{className:"preview-modal-wrapper",children:(0,n.jsxs)("div",{className:"preview-modal",children:[(0,n.jsxs)("div",{className:"preview-modal-content",children:[(0,n.jsx)("h1",{children:"포스트 요약"}),(0,n.jsx)("div",{className:"preview-modal-summary",children:(0,n.jsx)("textarea",{className:"summary",value:t.frontMatter.summary,placeholder:"요약을 입력하세요",onChange:s})})]}),(0,n.jsxs)("div",{className:"preview-modal-nav",children:[(0,n.jsx)("button",{type:"button",className:"download",onClick:r,children:"\uD83D\uDE80 다운로드"}),(0,n.jsx)("button",{type:"button",className:"close",onClick:a,children:"닫기"})]})]})})}function v(){let{post:t}=(0,l.useContext)(i);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{}),(0,n.jsx)("div",{className:"write-preview-wrapper",children:(0,n.jsx)("div",{className:"write-preview",children:(0,n.jsx)(o,{post:t})})}),(0,n.jsx)(f,{})]})}function g(){return(0,n.jsx)(u,{children:(0,n.jsx)(v,{})})}},50703:function(){}},function(t){t.O(0,[3067,1244,2971,8069,1744],function(){return t(t.s=1595)}),_N_E=t.O()}]);